# RAG評估系統欄位定義說明

## 資料處理方式欄位（5-8）

### 5. TEXT_聯成化工
- **定義**：無經過OCR也沒有經過人工整理過的最初原始資料
- **特性**：
  - 最原始的文字資料
  - 可能包含格式問題
  - 未經任何處理優化
- **評估重點**：測試RAG系統處理原始資料的能力

### 6. TEXT_整_聯成化工
- **定義**：沒有經過OCR但是有先用人工整理
- **特性**：
  - 人工整理過的結構化資料
  - 格式統一、邏輯清晰
  - 無OCR錯誤
- **評估重點**：測試人工整理對RAG效果的提升

### 7. 聯成化工
- **定義**：有開OCR但是沒有先進行人工彙整資料
- **特性**：
  - OCR處理過的資料
  - 可能有OCR識別錯誤
  - 未經人工校正
- **評估重點**：測試OCR品質對RAG的影響

### 8. 彙整_聯成化工
- **定義**：有開OCR也有先進行人工彙整資料
- **特性**：
  - OCR + 人工整理雙重處理
  - 最完整的資料處理方式
  - 錯誤最少、結構最佳
- **評估重點**：測試最佳處理方式的效果上限

## 覆蓋率評分欄位（9-12）

### 9. SCORE_1（TEXT_聯成化工覆蓋率）
- **定義**：測試原始資料的RAG回答是否包含應回答之詞彙
- **計算公式**：`(匹配關鍵詞數 / 總關鍵詞數) × 100`
- **評估意義**：
  - 反映RAG系統處理原始資料的基礎能力
  - 分數較低表示原始資料品質影響檢索效果

### 10. SCORE_2（TEXT_整_聯成化工覆蓋率）
- **定義**：測試人工整理資料的RAG回答是否包含應回答之詞彙
- **計算公式**：`(匹配關鍵詞數 / 總關鍵詞數) × 100`
- **評估意義**：
  - 反映人工整理對提升覆蓋率的效果
  - 與SCORE_1比較可看出人工整理的價值

### 11. SCORE_3（聯成化工覆蓋率）
- **定義**：測試OCR處理資料的RAG回答是否包含應回答之詞彙
- **計算公式**：`(匹配關鍵詞數 / 總關鍵詞數) × 100`
- **評估意義**：
  - 反映OCR技術對RAG檢索的影響
  - OCR錯誤可能導致覆蓋率下降

### 12. SCORE_4（彙整_聯成化工覆蓋率）
- **定義**：測試完整處理資料的RAG回答是否包含應回答之詞彙
- **計算公式**：`(匹配關鍵詞數 / 總關鍵詞數) × 100`
- **評估意義**：
  - 反映最佳資料處理方式的效果
  - 作為其他處理方式的比較基準

## 幻覺檢測欄位（新增）

### HALLUCINATION_1（TEXT_聯成化工幻覺分數）
- **定義**：檢測原始資料RAG回答中的虛構或額外內容
- **評分標準**：
  - 0分：無幻覺，完全基於原始資料
  - 10分：極輕微，添加合理解釋
  - 25分：輕微，包含少量額外資訊
  - 50分：中度，添加多個未提及內容
  - 100分：嚴重，包含明顯錯誤資訊
- **評估意義**：原始資料可能導致RAG系統"腦補"缺失資訊

### HALLUCINATION_2（TEXT_整_聯成化工幻覺分數）
- **定義**：檢測人工整理資料RAG回答中的虛構內容
- **評估意義**：人工整理應減少幻覺產生

### HALLUCINATION_3（聯成化工幻覺分數）
- **定義**：檢測OCR處理資料RAG回答中的虛構內容
- **評估意義**：OCR錯誤可能引發錯誤推論

### HALLUCINATION_4（彙整_聯成化工幻覺分數）
- **定義**：檢測完整處理資料RAG回答中的虛構內容
- **評估意義**：最佳處理方式的幻覺控制能力

## 綜合評分欄位（新增）

### TOTAL_SCORE_1（TEXT_聯成化工綜合評分）
- **定義**：原始資料處理方式的整體表現
- **計算公式**：`SCORE_1 - (HALLUCINATION_1 × 權重)`
- **評估意義**：平衡覆蓋率與準確性的綜合指標

### TOTAL_SCORE_2（TEXT_整_聯成化工綜合評分）
- **定義**：人工整理方式的整體表現
- **計算公式**：`SCORE_2 - (HALLUCINATION_2 × 權重)`

### TOTAL_SCORE_3（聯成化工綜合評分）
- **定義**：OCR處理方式的整體表現
- **計算公式**：`SCORE_3 - (HALLUCINATION_3 × 權重)`

### TOTAL_SCORE_4（彙整_聯成化工綜合評分）
- **定義**：完整處理方式的整體表現
- **計算公式**：`SCORE_4 - (HALLUCINATION_4 × 權重)`

## 資料處理方式比較矩陣

| 處理方式 | OCR | 人工整理 | 預期覆蓋率 | 預期幻覺程度 | 適用場景 |
|---------|-----|---------|-----------|-------------|---------|
| TEXT_聯成化工 | ❌ | ❌ | 低 | 高 | 快速測試 |
| TEXT_整_聯成化工 | ❌ | ✅ | 中 | 低 | 純文字資料 |
| 聯成化工 | ✅ | ❌ | 中低 | 中 | 掃描文件 |
| 彙整_聯成化工 | ✅ | ✅ | 高 | 低 | 生產環境 |

## 評估指標解讀

### 覆蓋率（SCORE）解讀
- **80-100%**：優秀，包含絕大部分關鍵資訊
- **60-79%**：良好，包含主要關鍵資訊
- **40-59%**：尚可，部分關鍵資訊缺失
- **<40%**：需改進，大量關鍵資訊缺失

### 幻覺分數（HALLUCINATION）解讀
- **0分**：完美，無任何虛構內容
- **1-10分**：優秀，僅有合理解釋
- **11-25分**：可接受，少量額外內容
- **26-50分**：需注意，中度虛構內容
- **>50分**：嚴重問題，大量虛構內容

### 綜合評分（TOTAL_SCORE）解讀
- **70-100%**：優秀的RAG表現
- **50-69%**：可用的RAG表現
- **30-49%**：需優化的RAG表現
- **<30%**：需大幅改進

## 使用建議

1. **比較分析**：橫向比較四種處理方式，找出最佳實踐
2. **問題定位**：縱向分析單一方式的弱點問題
3. **持續優化**：根據評分結果調整資料處理流程
4. **成本效益**：權衡處理成本與效果提升的平衡點